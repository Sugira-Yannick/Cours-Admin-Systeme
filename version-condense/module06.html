<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module Acad√©mique : EtherChannel & Agr√©gation de Liens</title>
    <!-- Int√©gration de Mermaid pour les diagrammes -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true, theme:'neutral'});</script>
    <!-- Styles CSS -->
    <style>
        /* D√©finition des polices et variables */
        :root {
            --color-primary: #1a365d; /* Bleu fonc√© pour les titres */
            --color-secondary: #2d3748; /* Gris fonc√© pour sous-titres */
            --color-accent: #2b6cb0; /* Bleu accent pour concepts cl√©s */
            --color-law: #c53030; /* Rouge pour les lois mentales */
            --color-illusion: #b7791f; /* Or pour illusions conceptuelles */
            --color-background: #ffffff;
            --color-surface: #f7fafc;
            --color-border: #e2e8f0;
            --font-heading: 'Space Grotesk', 'Segoe UI', system-ui, sans-serif;
            --font-body: 'Source Sans 3', 'Inter', 'Open Sans', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            line-height: 1.7;
            color: var(--color-secondary);
            background-color: var(--color-background);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        a {
            color: var(--color-accent);
            text-decoration: none;
        }

        /* Header */
        .page-header {
            background-color: var(--color-primary);
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            border-bottom: 5px solid var(--color-accent);
        }

        .page-header h1 {
            font-family: var(--font-heading);
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .page-header .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Navigation principale */
        #main-nav {
            background-color: var(--color-surface);
            border-bottom: 1px solid var(--color-border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 1rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .nav-logo {
            font-family: var(--font-heading);
            font-weight: bold;
            color: var(--color-primary);
            font-size: 1.5rem;
            padding: 1rem 0;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-menu a {
            color: var(--color-secondary);
            font-weight: 600;
            padding: 1rem 0;
            display: block;
            position: relative;
            transition: color 0.2s;
        }

        .nav-menu a:hover, .nav-menu a:focus {
            color: var(--color-accent);
        }

        .nav-menu a.active {
            color: var(--color-accent);
            border-bottom: 3px solid var(--color-accent);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 4px;
        }

        .hamburger span {
            height: 3px;
            width: 25px;
            background-color: var(--color-primary);
            border-radius: 2px;
        }

        /* Contenu principal en deux colonnes */
        .main-wrapper {
            display: flex;
            flex: 1;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        /* Sidebar / Navigation lat√©rale */
        #sidebar {
            width: 280px;
            background-color: var(--color-surface);
            border-right: 1px solid var(--color-border);
            padding: 2rem 1rem;
            position: sticky;
            top: 80px; /* Hauteur de la nav principale */
            align-self: flex-start;
            max-height: calc(100vh - 80px);
            overflow-y: auto;
            flex-shrink: 0;
        }

        .sidebar-title {
            font-family: var(--font-heading);
            font-size: 1.2rem;
            color: var(--color-primary);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--color-accent);
        }

        .sidebar-nav {
            list-style: none;
        }

        .sidebar-nav li {
            margin-bottom: 0.5rem;
        }

        .sidebar-nav a {
            display: block;
            padding: 0.6rem 1rem;
            border-radius: 6px;
            color: var(--color-secondary);
            transition: all 0.2s;
        }

        .sidebar-nav a:hover, .sidebar-nav a:focus, .sidebar-nav a.active-section {
            background-color: rgba(43, 108, 176, 0.1);
            color: var(--color-accent);
            font-weight: 600;
        }

        /* Zone de contenu principal */
        #content {
            flex: 1;
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .module-section {
            margin-bottom: 4rem;
            scroll-margin-top: 100px;
            background-color: white;
            border-radius: 8px;
            padding: 2.5rem;
            border: 1px solid var(--color-border);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.03);
        }

        .section-header {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--color-border);
        }

        .section-header h2 {
            font-family: var(--font-heading);
            font-size: 2rem;
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }

        .section-tag {
            display: inline-block;
            background-color: var(--color-accent);
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            margin-bottom: 1rem;
        }

        /* Styles typographiques sp√©cifiques */
        h3 {
            font-family: var(--font-heading);
            font-size: 1.5rem;
            color: var(--color-secondary);
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        h4 {
            font-family: var(--font-heading);
            font-size: 1.2rem;
            color: var(--color-secondary);
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
        }

        p, ul, ol {
            margin-bottom: 1.5rem;
        }

        ul, ol {
            padding-left: 1.5rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        /* √âl√©ments de mise en forme s√©mantique */
        .analogy-box {
            background-color: rgba(247, 250, 252, 0.8);
            border-left: 4px solid var(--color-accent);
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 0 6px 6px 0;
        }

        .concept-key {
            color: var(--color-accent);
            font-weight: 700;
            background-color: rgba(43, 108, 176, 0.1);
            padding: 0.1rem 0.4rem;
            border-radius: 3px;
        }

        .law-box {
            background-color: rgba(197, 48, 48, 0.05);
            border-left: 4px solid var(--color-law);
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 0 6px 6px 0;
        }

        .illusion-box {
            background-color: rgba(183, 121, 31, 0.05);
            border-left: 4px solid var(--color-illusion);
            padding: 1.5rem;
            margin: 2rem 0;
            border-radius: 0 6px 6px 0;
        }

        .equation-box {
            text-align: center;
            font-family: var(--font-heading);
            font-size: 1.2rem;
            padding: 1.5rem;
            margin: 2rem 0;
            background-color: var(--color-surface);
            border-radius: 8px;
            border: 1px dashed var(--color-border);
        }

        .mermaid-diagram {
            margin: 2rem 0;
            padding: 1rem;
            background-color: white;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            overflow-x: auto;
            text-align: center;
        }

        /* Objectifs cognitifs */
        .cognitive-objectives {
            background: linear-gradient(135deg, var(--color-primary) 0%, #2c5282 100%);
            color: white;
            padding: 2.5rem;
            border-radius: 10px;
            margin: 3rem 0;
        }

        .cognitive-objectives h3 {
            color: white;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .cognitive-objectives ul {
            list-style: none;
            padding-left: 0;
            max-width: 800px;
            margin: 0 auto;
        }

        .cognitive-objectives li {
            margin-bottom: 1rem;
            padding-left: 1.8rem;
            position: relative;
        }

        .cognitive-objectives li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #68d391;
            font-weight: bold;
        }

        /* Footer */
        .page-footer {
            background-color: var(--color-primary);
            color: white;
            text-align: center;
            padding: 2rem 1rem;
            margin-top: auto;
            font-size: 0.9rem;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .main-wrapper {
                flex-direction: column;
            }

            #sidebar {
                width: 100%;
                position: static;
                top: auto;
                max-height: none;
                border-right: none;
                border-bottom: 1px solid var(--color-border);
            }

            .nav-menu {
                gap: 1rem;
            }
        }

        @media (max-width: 768px) {
            .hamburger {
                display: flex;
            }

            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background-color: var(--color-surface);
                flex-direction: column;
                padding: 1rem;
                border-top: 1px solid var(--color-border);
                box-shadow: 0 5px 10px rgba(0,0,0,0.1);
            }

            .nav-menu.active {
                display: flex;
            }

            .nav-menu li {
                width: 100%;
            }

            .module-section {
                padding: 1.5rem;
            }

            .page-header h1 {
                font-size: 1.8rem;
            }
        }

        @media print {
            #main-nav, #sidebar, .page-footer, .hamburger {
                display: none;
            }

            .main-wrapper {
                flex-direction: column;
            }

            #content {
                padding: 0;
            }

            .module-section {
                border: none;
                box-shadow: none;
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <header class="page-header">
        <h1>üìò Module Acad√©mique : EtherChannel & Agr√©gation de Liens</h1>
        <p class="subtitle">Reconstruction acad√©mique ultra-approfondie orient√©e ma√Ætrise ‚Äî Formation d'un administrateur r√©seau d'exception (Niveau √âlite)</p>
    </header>

    <nav id="main-nav">
        <div class="nav-container">
            <div class="nav-logo">EtherChannel Expert</div>
            <div class="hamburger" id="hamburger-btn">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-menu" id="main-menu">
                <li><a href="#analogie" class="active">Analogie Ma√Ætre</a></li>
                <li><a href="#modele-mental">Mod√®le Mental</a></li>
                <li><a href="#architecture">Architecture</a></li>
                <li><a href="#mecanismes">M√©canismes</a></li>
                <li><a href="#protocoles">Protocoles & Services</a></li>
                <li><a href="#illusions">Illusions Conceptuelles</a></li>
                <li><a href="#raisonnement">Raisonnement</a></li>
                <li><a href="#synthese">Synth√®se</a></li>
                <li><a href="#extension">Extension</a></li>
                <li><a href="#objectifs">Objectifs</a></li>
            </ul>
        </div>
    </nav>

    <div class="main-wrapper">
        <aside id="sidebar">
            <div class="sidebar-title">Navigation du Module</div>
            <ul class="sidebar-nav">
                <li><a href="#analogie" class="active-section">üß† Analogie Syst√©mique Ma√Ætre</a></li>
                <li><a href="#modele-mental">üß© Mod√®le Mental Global</a></li>
                <li><a href="#architecture">1Ô∏è‚É£ Architecture Conceptuelle Fondamentale</a></li>
                <li><a href="#mecanismes">2Ô∏è‚É£ M√©canismes Internes</a>
                    <ul style="margin-left: 1rem; margin-top: 0.5rem; font-size: 0.9rem;">
                        <li><a href="#formation-canal">Formation du canal</a></li>
                        <li><a href="#repartition-charge">R√©partition de charge</a></li>
                        <li><a href="#gestion-defaillance">Gestion des d√©faillances</a></li>
                    </ul>
                </li>
                <li><a href="#protocoles">3Ô∏è‚É£ Protocoles, Couches & Services</a></li>
                <li><a href="#illusions">4Ô∏è‚É£ Erreurs Conceptuelles Majeures</a></li>
                <li><a href="#raisonnement">5Ô∏è‚É£ Raisonnement d'Administrateur R√©seau Expert</a></li>
                <li><a href="#synthese">6Ô∏è‚É£ Synth√®se M√©morisable Long Terme</a></li>
                <li><a href="#extension">7Ô∏è‚É£ Extension au-del√† de NetAcad (500%+)</a></li>
                <li><a href="#objectifs">üéØ Objectifs Cognitifs Finaux</a></li>
            </ul>
        </aside>

        <main id="content">
            <!-- Section Analogie -->
            <section id="analogie" class="module-section">
                <div class="section-header">
                    <span class="section-tag">Analogie Centrale</span>
                    <h2>üß† Analogie Syst√©mique Ma√Ætre : Le C√¢ble Multi-Brins</h2>
                </div>
                <p>Imaginez un c√¢ble d‚Äôalimentation √©lectrique pour une machine industrielle lourde. Un seul fil conducteur risque de surchauffer et de rompre sous une forte charge. Pour assurer fiabilit√© et capacit√©, les ing√©nieurs <strong>tressent plusieurs fils de cuivre</strong> en un seul c√¢ble robuste. Chaque fil est ind√©pendant, mais ils sont regroup√©s pour former un <strong>conducteur unique logique</strong>.</p>
                <div class="analogy-box">
                    <p><strong>Fil de cuivre</strong> ‚Üí Liaison Ethernet physique (ex: FastEthernet 0/1).</p>
                    <p><strong>Tressage / Regroupement</strong> ‚Üí Protocole d‚Äôagr√©gation (PAgP ou LACP).</p>
                    <p><strong>Capacit√© totale augment√©e</strong> ‚Üí Bande passante agr√©g√©e (ex: 2 Gbps).</p>
                    <p><strong>Redondance int√©gr√©e</strong> ‚Üí Un fil rompu, le courant passe par les autres.</p>
                    <p><strong>Surchauffe / rupture d‚Äôun fil</strong> ‚Üí D√©faillance d‚Äôun lien physique.</p>
                    <p><strong>Norme de tressage (ISO vs fabricant)</strong> ‚Üí LACP (standard IEEE) vs PAgP (Cisco).</p>
                </div>
                <h4>Mapping Explicite</h4>
                <ul>
                    <li><span class="concept-key">Fil de calibre diff√©rent casse le tressage</span> ‚Üí Un lien en 100 Mbps emp√™che l‚Äôagr√©gation avec du 1 Gbps.</li>
                    <li><span class="concept-key">Le courant cherche toujours le chemin de moindre r√©sistance, mais dans un c√¢ble tress√©, il est contraint de suivre un brin par circuit</span> ‚Üí Le hash d√©termine le lien physique par flux.</li>
                    <li><span class="concept-key">Si un brin fond, le c√¢ble conduit encore, mais moins bien</span> ‚Üí D√©faillance d‚Äôun lien ‚Üí capacit√© r√©duite, mais pas d‚Äôinterruption.</li>
                </ul>
            </section>

            <!-- Section Mod√®le Mental -->
            <section id="modele-mental" class="module-section">
                <div class="section-header">
                    <span class="section-tag">Sch√©ma Directeur</span>
                    <h2>üß© Mod√®le Mental Global du Syst√®me</h2>
                </div>
                <p>EtherChannel est un <strong>syst√®me de virtualisation de liens</strong> op√©rant √† la couche liaison de donn√©es (Couche 2 OSI). Il transforme une topologie physique redondante en une topologie logique simplifi√©e, pr√©servant les m√©canismes de bouclage (STP) tout en exploitant pleinement la capacit√© physique.</p>
                <div class="mermaid-diagram">
                    <div class="mermaid">
graph TD
    A[Topologie Physique Redondante] --> B{Protocole de N√©gociation<br>PAgP / LACP / On};
    B --> C[Interface Logique Port-Channel];
    C --> D[STP voit un seul lien];
    C --> E[R√©partition de charge<br>src/dst IP/MAC];
    F[D√©faillance Lien Physique] --> G{Canal toujours op√©rationnel<br>Capacit√© r√©duite};
    H[Configuration incoh√©rente] --> I[√âchec de formation du canal];
    C --> J[Augmentation bande passante<br>+ Redondance];
                    </div>
                </div>
            </section>

            <!-- Section Architecture -->
            <section id="architecture" class="module-section">
                <div class="section-header">
                    <span class="section-tag">Fondamentaux</span>
                    <h2>1Ô∏è‚É£ Architecture Conceptuelle Fondamentale</h2>
                </div>
                <p><strong>R√¥le :</strong> EtherChannel est une <strong>technique d‚Äôagr√©gation de liens</strong> (link bonding) dont l‚Äôobjectif principal est d‚Äôaugmenter la bande passante disponible entre deux p√©riph√©riques de couche 2/3 (commutateurs, routeurs, serveurs) tout en fournissant une <strong>redondance transparente</strong>. Il r√©sout le conflit fondamental entre la redondance physique (n√©cessaire pour la r√©silience) et le Spanning Tree Protocol (qui bloque les chemins redondants pour √©viter les boucles).</p>
                <p><strong>Positionnement dans les mod√®les :</strong></p>
                <ul>
                    <li><strong>OSI :</strong> Principalement Couche 2 (Liaison de donn√©es). L‚Äôagr√©gation est trait√©e en sous-couche MAC.</li>
                    <li><strong>TCP/IP :</strong> Couche Acc√®s r√©seau. Le Port-Channel est vu comme une seule interface par les couches sup√©rieures (IP, etc.).</li>
                </ul>
                <p><strong>Fronti√®res :</strong> EtherChannel op√®re <strong>entre deux p√©riph√©riques directement connect√©s</strong>. Il ne route pas le trafic ; il virtualise le support de transmission. Son domaine s‚Äôarr√™te l√† o√π commence le traitement des paquets (adressage, routage).</p>
                <p><strong>Relations :</strong></p>
                <ul>
                    <li><strong>Avec STP :</strong> Partenaire antagoniste devenu collaboratif. STP bloque des chemins redondants, mais consid√®re un EtherChannel comme un seul chemin, √©vitant ainsi le blocage.</li>
                    <li><strong>Avec VLAN/Trunking :</strong> L‚ÄôEtherChannel peut √™tre un lien d‚Äôacc√®s (un VLAN) ou un trunk (multiple VLANs). La configuration VLAN doit √™tre identique sur tous les ports membres.</li>
                    <li><strong>Avec le mat√©riel :</strong> D√©pendant des capacit√©s de la plateforme (ASIC) pour la r√©partition de charge.</li>
                </ul>
            </section>

            <!-- Section M√©canismes -->
            <section id="mecanismes" class="module-section">
                <div class="section-header">
                    <span class="section-tag">Fonctionnement Causal</span>
                    <h2>2Ô∏è‚É£ M√©canismes Internes D√©tail√©s</h2>
                </div>

                <h3 id="formation-canal">A. Formation du canal</h3>
                <div class="mermaid-diagram">
                    <div class="mermaid">
graph LR
    A[D√©tection des pairs] --> B[V√©rification de compatibilit√©];
    B --> C{Param√®tres identiques ?<br>Vitesse/Duplex/VLAN};
    C -->|Oui| D[Activation logique Port-Channel];
    C -->|Non| E[√âchec de formation];
    D --> F[Canal op√©rationnel];
                    </div>
                </div>
                <p><strong>S√©quence logique :</strong></p>
                <ol>
                    <li><strong>D√©tection des pairs :</strong> Les ports candidats envoient des paquets de n√©gociation (PAgP ou LACP) pour d√©couvrir les ports homologues de l‚Äôautre c√¥t√©.</li>
                    <li><strong>V√©rification de compatibilit√© :</strong> Les param√®tres des ports (vitesse, duplex, VLAN, mode trunk/access) sont compar√©s. <strong>Toute divergence emp√™che la formation</strong>.</li>
                    <li><strong>Activation logique :</strong> Si la v√©rification r√©ussit, une interface virtuelle <span class="concept-key">Port-Channel X</span> est cr√©√©e. Les tables mat√©rielles (CAM, ASIC) sont mises √† jour pour traiter les ports membres comme un ensemble.</li>
                </ol>

                <h3 id="repartition-charge">B. R√©partition de charge (Load-Balancing)</h3>
                <p><strong>M√©canisme :</strong> Un algorithme d√©terministe (souvent bas√© sur un hash) s√©lectionne un lien physique sp√©cifique pour chaque <strong>flux</strong> (flow) de trafic.</p>
                <p><strong>Entr√©es du hash :</strong> Peut √™tre bas√© sur :</p>
                <ul>
                    <li>Adresse MAC source/destination</li>
                    <li>Adresse IP source/destination</li>
                    <li>Num√©ros de port TCP/UDP source/destination (couche 4)</li>
                </ul>
                <p><strong>Cons√©quence :</strong> Un flux donn√© <strong>ne sera jamais r√©parti</strong> sur plusieurs liens. Cela pr√©serve l‚Äôordre des paquets. L‚Äôaugmentation de bande passante est donc <strong>par flux</strong>, pas par paquet.</p>

                <h3 id="gestion-defaillance">C. Gestion des d√©faillances</h3>
                <div class="mermaid-diagram">
                    <div class="mermaid">
graph TD
    A[D√©faillance lien physique] --> B{D√©tection instantan√©e};
    B --> C[Redirection des flux affect√©s];
    C --> D[Aucune reconvergence STP];
    E[R√©tablissement lien] --> F{V√©rification compatibilit√©};
    F --> G{R√©int√©gration automatique};
                    </div>
                </div>
                <p><strong>D√©tection :</strong> La perte de signal (link down) sur un lien physique est d√©tect√©e imm√©diatement.</p>
                <p><strong>R√©action :</strong> Le trafic des flux affect√©s est <strong>redirig√© instantan√©ment</strong> vers les liens restants. Aucune reconvergence STP n‚Äôest d√©clench√©e, car la topologie logique (le Port-Channel) reste active.</p>
                <p><strong>Restauration :</strong> Quand le lien revient, il est r√©int√©gr√© automatiquement apr√®s v√©rification de compatibilit√©.</p>
            </section>

            <!-- Section Protocoles -->
            <section id="protocoles" class="module-section">
                <div class="section-header">
                    <span class="section-tag">√âl√©ments du Syst√®me</span>
                    <h2>3Ô∏è‚É£ Protocoles, Couches et Services (Exhaustif)</h2>
                </div>
                <h3>1. PAgP (Port Aggregation Protocol ‚Äì Cisco Propri√©taire)</h3>
                <ul>
                    <li><strong>Objectif :</strong> N√©gocier et g√©rer automatiquement la formation d‚Äôun EtherChannel entre p√©riph√©riques Cisco.</li>
                    <li><strong>Couche :</strong> Liaison de donn√©es (L2). Paquets Ethernet de type protocol ID 0x0104.</li>
                    <li><strong>Modes de fonctionnement :</strong>
                        <ul>
                            <li><span class="concept-key">on (mode manuel)</span> : Pas d‚Äô√©change PAgP. N√©cessite une configuration identique de l‚Äôautre c√¥t√©.</li>
                            <li><span class="concept-key">desirable (actif)</span> : Initie activement la n√©gociation.</li>
                            <li><span class="concept-key">auto (passif)</span> : R√©pond seulement aux n√©gociations.</li>
                        </ul>
                    </li>
                    <li><strong>Compatibilit√© :</strong>
                        <ul>
                            <li><span class="concept-key">desirable + desirable</span> ‚Üí ‚úÖ Canal form√©</li>
                            <li><span class="concept-key">desirable + auto</span> ‚Üí ‚úÖ Canal form√©</li>
                            <li><span class="concept-key">auto + auto</span> ‚Üí ‚ùå <strong>Aucun canal</strong> (les deux sont passifs)</li>
                            <li><span class="concept-key">on + desirable/auto</span> ‚Üí ‚ùå <strong>Incompatible</strong> (c√¥t√© <span class="concept-key">on</span> ne parle pas PAgP)</li>
                        </ul>
                    </li>
                </ul>

                <h3>2. LACP (Link Aggregation Control Protocol ‚Äì IEEE 802.1AX/802.3ad)</h3>
                <ul>
                    <li><strong>Objectif :</strong> Standard ouvert pour l‚Äôagr√©gation de liens, permettant l‚Äôinterop√©rabilit√© multi-fournisseurs.</li>
                    <li><strong>Couche :</strong> Liaison de donn√©es (L2). Paquets LACP (sous-type 0x8809).</li>
                    <li><strong>Modes de fonctionnement :</strong>
                        <ul>
                            <li><span class="concept-key">on (mode manuel)</span> : Identique √† PAgP.</li>
                            <li><span class="concept-key">active (actif)</span> : Initie la n√©gociation.</li>
                            <li><span class="concept-key">passive (passif)</span> : R√©pond seulement.</li>
                        </ul>
                    </li>
                    <li><strong>Avantage cl√© :</strong> Supporte jusqu‚Äô√† <strong>16 liens</strong> (8 actifs, 8 en veille ‚Äì <em>hot standby</em>). Seuls 8 actifs maximum peuvent √™tre utilis√©s simultan√©ment.</li>
                    <li><strong>Compatibilit√© :</strong> Identique √† PAgP : <span class="concept-key">active/active</span> ou <span class="concept-key">active/passive</span> fonctionne. <span class="concept-key">passive/passive</span> √©choue.</li>
                </ul>

                <h3>3. L‚ÄôInterface Port-Channel (Logique)</h3>
                <ul>
                    <li><strong>Encapsulation :</strong> Transparente. Elle h√©rite des caract√©ristiques des ports membres.</li>
                    <li><strong>Champs importants (dans la configuration) :</strong> Num√©ro de groupe (1-6 sur un Catalyst 2960), mode (trunk/access), VLAN, configuration STP.</li>
                    <li><strong>Comportement :</strong> Toute configuration appliqu√©e ici (ex: <code>switchport trunk allowed vlan</code>) est <strong>r√©pliqu√©e</strong> sur tous les ports physiques membres. La configuration sur un port membre individuel peut <strong>casser</strong> l‚Äôagr√©gation.</li>
                </ul>

                <h3>4. STP (Spanning Tree Protocol) et EtherChannel</h3>
                <ul>
                    <li><strong>Interaction :</strong> STP ex√©cute son algorithme sur l‚Äôinterface <span class="concept-key">Port-Channel</span>, pas sur les liens individuels.</li>
                    <li><strong>B√©n√©fice :</strong> Un Port-Channel est trait√© comme <strong>une seule liaison logique</strong>. STP ne bloque donc <strong>aucun</strong> des liens physiques qui le composent, exploitant ainsi toute la bande passante redondante.</li>
                </ul>
            </section>

            <!-- Section Illusions -->
            <section id="illusions" class="module-section">
                <div class="section-header">
                    <span class="section-tag">Pi√®ges √† √âviter</span>
                    <h2>4Ô∏è‚É£ Erreurs Conceptuelles Majeures</h2>
                </div>

                <div class="illusion-box">
                    <h4>1. ¬´ L‚Äôagr√©gation multiplie la vitesse d‚Äôun seul flux ¬ª</h4>
                    <p><strong>Pourquoi elle semble plausible :</strong> Logique intuitive : "plus de liens = plus vite pour tout".</p>
                    <p><strong>Pourquoi elle est fausse :</strong> La r√©partition de charge est <strong>par flux</strong>. Un flux unique (ex: un t√©l√©chargement TCP) est assign√© √† un seul lien physique par l‚Äôalgorithme de hash. Sa vitesse max reste celle d‚Äôun lien individuel.</p>
                    <p><strong>Raisonnement correct :</strong> L‚Äôagr√©gation augmente la capacit√© <strong>agr√©g√©e</strong> pour <strong>plusieurs flux simultan√©s</strong>. Elle am√©liore la r√©silience et la capacit√© globale, pas la vitesse d‚Äôune connexion unique.</p>
                </div>

                <div class="illusion-box">
                    <h4>2. ¬´ On peut m√©langer vitesse et duplex dans un canal ¬ª</h4>
                    <p><strong>Pourquoi elle semble plausible :</strong> L‚Äôid√©e d‚Äôagr√©ger "ce qu‚Äôon a" pour am√©liorer le d√©bit global.</p>
                    <p><strong>Pourquoi elle est fausse :</strong> <strong>Tous les param√®tres physiques (vitesse, duplex) doivent √™tre strictement identiques.</strong> C‚Äôest une restriction fondamentale de coh√©rence op√©rationnelle. Sinon, la n√©gociation √©choue ou le canal devient instable.</p>
                    <p><strong>Raisonnement correct :</strong> Avant l‚Äôagr√©gation, uniformisez la configuration physique de tous les ports membres (m√™me vitesse, m√™me duplex, forc√©s de pr√©f√©rence).</p>
                </div>

                <div class="illusion-box">
                    <h4>3. ¬´ Le mode auto/passive est une bonne pratique par d√©faut ¬ª</h4>
                    <p><strong>Pourquoi elle semble plausible :</strong> Mettre les deux c√¥t√©s en mode passif semble s√©curitaire et √©vite des n√©gociations agressives.</p>
                    <p><strong>Pourquoi elle est fausse :</strong> <strong>auto/auto (PAgP) ou passive/passive (LACP) emp√™chent toute formation de canal</strong>, car aucun c√¥t√© n‚Äôinitie la n√©gociation.</p>
                    <p><strong>Raisonnement correct :</strong> Au moins un c√¥t√© doit √™tre <strong>actif</strong> (<span class="concept-key">desirable</span> ou <span class="concept-key">active</span>). La meilleure pratique est <span class="concept-key">active/active</span> (LACP) ou <span class="concept-key">desirable/desirable</span> (PAgP) pour une convergence rapide, ou <span class="concept-key">active/passive</span> pour un contr√¥le pr√©visible.</p>
                </div>

                <div class="illusion-box">
                    <h4>4. ¬´ EtherChannel et STP sont en concurrence ¬ª</h4>
                    <p><strong>Pourquoi elle semble plausible :</strong> STP bloque les liens redondants, EtherChannel les utilise tous. Ils semblent antagonistes.</p>
                    <p><strong>Pourquoi elle est fausse :</strong> <strong>Ils sont compl√©mentaires.</strong> EtherChannel pr√©sente √† STP une topologie <strong>sans boucle redondante apparente</strong>, permettant √† STP de laisser <strong>tous les liens actifs</strong>. C‚Äôest la symbiose parfaite.</p>
                    <p><strong>Raisonnement correct :</strong> EtherChannel est la solution au probl√®me que STP cr√©e avec la redondance physique. Ensemble, ils fournissent redondance + utilisation compl√®te de la bande passante.</p>
                </div>
            </section>

            <!-- Section Raisonnement -->
            <section id="raisonnement" class="module-section">
                <div class="section-header">
                    <span class="section-tag">M√©thode Expert</span>
                    <h2>5Ô∏è‚É£ Raisonnement d'Administrateur R√©seau Expert</h2>
                </div>
                <p><strong>Penser en syst√®mes, pas en liens :</strong></p>
                <ul>
                    <li><strong>Avant d‚Äôagr√©ger :</strong> V√©rifiez la <strong>coh√©rence mat√©rielle</strong> (m√™me mod√®le de carte, m√™me emplacement ASIC si possible) pour des performances optimales.</li>
                    <li><strong>Design :</strong> Privil√©giez <span class="concept-key">LACP (active)</span> dans des environnements h√©t√©rog√®nes ou futurs. Utilisez <span class="concept-key">active/passive</span> pour un contr√¥le pr√©visible sur quel p√©riph√©rique initie.</li>
                </ul>

                <p><strong>Anticiper les effets de configuration :</strong></p>
                <ul>
                    <li><strong>R√®gle d‚Äôor :</strong> Configurez d‚Äôabord le Port-Channel logique, puis ajoutez les ports physiques. Jamais l‚Äôinverse.</li>
                    <li><strong>Checklist pr√©-agr√©gation :</strong>
                        <ol>
                            <li><strong>Vitesse/Duplex :</strong> Identiques, forc√©s de pr√©f√©rence.</li>
                            <li><strong>Mode VLAN :</strong> Tous en <code>access</code> sur le m√™me VLAN, OU tous en <code>trunk</code> avec les m√™mes VLAN natifs et autoris√©s.</li>
                            <li><strong>Configuration STP :</strong> Co√ªt du Port-Channel, priorit√©.</li>
                        </ol>
                    </li>
                </ul>

                <p><strong>D√©pannage syst√©matique :</strong> Si le canal ne se forme pas (<code>show etherchannel summary</code> indique <code>D</code> pour down), v√©rifiez dans l‚Äôordre :</p>
                <ol>
                    <li><strong>Connexion physique</strong> et statut des ports (<code>show int status</code>).</li>
                    <li><strong>Coh√©rence des param√®tres</strong> L2 (<code>show run int fa0/1</code> vs <code>fa0/2</code>).</li>
                    <li><strong>Compatibilit√© des protocoles</strong> (<code>show etherchannel protocol</code>).</li>
                    <li><strong>Logs</strong> (<code>show log</code> pour messages PAgP/LACP).</li>
                </ol>

                <p><strong>Comprendre les cons√©quences invisibles :</strong></p>
                <ul>
                    <li><strong>R√©partition de charge asym√©trique :</strong> Si l‚Äôalgorithme hash bas√© sur les adresses IP source/destination est utilis√© dans un trafic tr√®s directionnel (ex: un serveur unique), la charge peut √™tre d√©s√©quilibr√©e. <strong>Changer l‚Äôalgorithme</strong> (par exemple, inclure les ports L4) peut mieux r√©partir.</li>
                    <li><strong>Impact sur le forwarding mat√©riel :</strong> L‚Äôagr√©gation consomme des ressources du TCAM/ASIC. Sur des plateformes anciennes, trop d‚ÄôEtherChannels peut saturer les capacit√©s de forwarding.</li>
                </ul>
            </section>

            <!-- Section Synth√®se -->
            <section id="synthese" class="module-section">
                <div class="section-header">
                    <span class="section-tag">√Ä Retenir Absolument</span>
                    <h2>6Ô∏è‚É£ Synth√®se M√©morisable Long Terme</h2>
                </div>

                <h3>Lois Conceptuelles :</h3>
                <div class="law-box">
                    <p>1. <strong>Loi de l‚Äôunit√© logique :</strong> ¬´ L‚ÄôEtherChannel pr√©sente N liens physiques comme 1 lien logique √† toutes les couches sup√©rieures (STP, routage). ¬ª</p>
                    <p>2. <strong>Loi de la coh√©rence absolue :</strong> ¬´ Tout param√®tre de couche 2 qui diff√®re entre les ports membres est un motif de rejet. ¬ª</p>
                    <p>3. <strong>Loi de l‚Äôinitiative :</strong> ¬´ Pour qu‚Äôun canal dynamique se forme, au moins un c√¥t√© doit √™tre actif (desirable/active). ¬ª</p>
                </div>

                <h3>√âquations Mentales :</h3>
                <div class="equation-box">
                    <p><strong>EtherChannel = Œ£(Liens Physiques) ‚Üí 1 Interface Logique (Port-Channel)</strong></p>
                    <p><strong>Bande passante agr√©g√©e = Œ£(Bandwidth des liens)</strong>, mais <strong>Bande passante par flux ‚â§ Bandwidth d‚Äôun lien</strong>.</p>
                    <p><strong>R√©silience = N liens - 1</strong> (Le canal survit √† la perte de N-1 liens).</p>
                </div>

                <h3>Rappel de l'Analogie :</h3>
                <div class="analogy-box">
                    <p><strong>Le c√¢ble multi-brins :</strong> Vous √™tes l‚Äôing√©nieur r√©seau qui tresse des liens physiques en un conducteur unique logique. Vous garantissez que le ¬´ courant ¬ª (les donn√©es) circule m√™me si un brin fond (lien en panne), que tous les brins sont de m√™me calibre (param√®tres identiques), et que le courant est r√©parti de mani√®re √©quilibr√©e entre eux (load-balancing). Votre objectif : une conduite robuste, fiable et haute capacit√©.</p>
                </div>
            </section>

            <!-- Section Extension -->
            <section id="extension" class="module-section">
                <div class="section-header">
                    <span class="section-tag">Perspectives</span>
                    <h2>7Ô∏è‚É£ Extension au-del√† de NetAcad (500%+)</h2>
                </div>
                <h3>1. Agr√©gation multi-ch√¢ssis (MLAG / vPC / StackWise)</h3>
                <ul>
                    <li><strong>Concept :</strong> √âtendre l‚Äôagr√©gation de liens <strong>sur deux commutateurs physiques distincts</strong> les faisant appara√Ætre comme un seul p√©riph√©rique logique (pair). Ex: Cisco vPC, Arista MLAG.</li>
                    <li><strong>Avantage :</strong> √âlimine le SPOF (Single Point of Failure) du commutateur en plus des liens.</li>
                    <li><strong>Complexit√© :</strong> N√©cessite une liaison de contr√¥le d√©di√©e et synchro d‚Äô√©tat entre les deux ch√¢ssis.</li>
                </ul>

                <h3>2. Agr√©gation de couche 3 (L3 EtherChannel / Port-Channel Rout√©)</h3>
                <ul>
                    <li><strong>Concept :</strong> L‚Äôinterface <span class="concept-key">Port-Channel</span> peut avoir une <strong>adresse IP</strong>. L‚Äôagr√©gation est alors g√©r√©e par la couche r√©seau.</li>
                    <li><strong>Utilisation :</strong> Entre routeurs ou commutateurs multicouches pour augmenter la bande passante de routage.</li>
                    <li><strong>R√©partition de charge :</strong> Se fait via les tables de routage (ECMP ‚Äì Equal-Cost Multi-Path) en plus du hash de couche 2.</li>
                </ul>

                <h3>3. Algorithmes de hash avanc√©s</h3>
                <p>Au-del√† de src/dst IP/MAC, les plateformes modernes supportent des hashs bas√©s sur :</p>
                <ul>
                    <li>Adresse IP source seule (pour une sortie sym√©trique)</li>
                    <li>Combinaison de champs de l‚Äôent√™te MPLS ou IPv6</li>
                    <li><strong>Adaptive Load Balancing :</strong> Surveillance de la charge par lien et ajustement dynamique du hash.</li>
                </ul>

                <h3>4. Vision Vendor-Neutral et normes</h3>
                <ul>
                    <li><strong>IEEE 802.1AX-2020 :</strong> La norme actuelle d√©finissant LACP et les principes g√©n√©raux de l‚Äôagr√©gation de liens.</li>
                    <li><strong>Comparaison PAgP vs LACP :</strong> Pr√©f√©rer LACP pour tout nouvel d√©ploiement sauf environnement Cisco pur h√©rit√©. LACP est universel, plus riche (liens de secours), et √©volutif.</li>
                </ul>

                <h3>5. Supervision et t√©l√©m√©trie</h3>
                <ul>
                    <li><strong>M√©triques cl√©s :</strong> Surveiller le <strong>d√©s√©quilibre de charge</strong> (counters par interface physique), les <strong>flaps de liens</strong> (qui d√©gradent la stabilit√©), et l‚Äô<strong>utilisation du canal logique</strong>.</li>
                    <li><strong>Outils :</strong> Utiliser <code>show etherchannel load-balance</code>, <code>show interfaces counter</code>, et des protocoles de t√©l√©m√©trie (NetFlow, sFlow) pour analyser la r√©partition par flux.</li>
                </ul>
            </section>

            <!-- Section Objectifs -->
            <section id="objectifs" class="module-section">
                <div class="section-header">
                    <span class="section-tag">Finalit√©</span>
                    <h2>üéØ Objectifs Cognitifs Finaux ‚Äì Administrateur R√©seau √âlite</h2>
                </div>
                <div class="cognitive-objectives">
                    <p>√Ä la fin de ce module, vous pensez d√©sormais en termes de <span class="concept-key">virtualisation de liens</span> et de <span class="concept-key">syst√®mes logiques</span>. Vous concevez des agr√©gations pour la performance ET la r√©silience, vous choisissez un protocole (PAgP vs LACP) en fonction de l‚Äôenvironnement, et vous savez que la coh√©rence de configuration est non n√©gociable.</p>
                    <p>Vous pouvez expliquer pourquoi un EtherChannel ne se forme pas en raisonnant des param√®tres physiques jusqu‚Äô√† la compatibilit√© des protocoles de n√©gociation. Votre compr√©hension des compromis (bande passante par flux vs agr√©g√©e, simplicit√© vs contr√¥le, redondance vs complexit√©) vous permet de prendre des d√©cisions architecturales √©clair√©es et de d√©panner avec m√©thodologie. Vous √™tes pr√™t √† aborder la conception et l‚Äôoptimisation de r√©seaux d‚Äôagr√©gation complexes, incluant des technologies multi-ch√¢ssis et de couche 3.</p>
                    <br>
                    <h3>Vous devez pouvoir dire, sans h√©sitation :</h3>
                    <ul>
                        <li>¬´ Je pense comme un architecte et un administrateur r√©seau senior ¬ª</li>
                        <li>¬´ Je comprends les causes profondes, pas seulement les sympt√¥mes ¬ª</li>
                        <li>¬´ Je peux intervenir sur des r√©seaux complexes avec m√©thode et confiance ¬ª</li>
                        <li>¬´ Mon niveau d√©passe largement celui attendu d'une formation classique ¬ª</li>
                        <li>¬´ Je comprends comment √ßa fonctionne ¬ª</li>
                        <li>¬´ Je sais expliquer pourquoi √ßa casse ¬ª</li>
                        <li>¬´ Je peux raisonner sans par c≈ìur ¬ª</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>

    <footer class="page-footer">
        <p>Module Acad√©mique EtherChannel ‚Äî Reconstruction pour la Ma√Ætrise Expert</p>
        <p>¬© Format p√©dagogique HTML ‚Äî Contenu fig√© et valid√©.</p>
    </footer>

    <script>
        // Script pour la navigation mobile et le suivi des sections actives
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.getElementById('hamburger-btn');
            const mainMenu = document.getElementById('main-menu');
            const sidebarLinks = document.querySelectorAll('.sidebar-nav a');
            const mainNavLinks = document.querySelectorAll('.nav-menu a');

            // Gestion du menu hamburger
            hamburger.addEventListener('click', function() {
                mainMenu.classList.toggle('active');
            });

            // Fermer le menu mobile en cliquant sur un lien
            document.querySelectorAll('.nav-menu a').forEach(link => {
                link.addEventListener('click', () => {
                    if (mainMenu.classList.contains('active')) {
                        mainMenu.classList.remove('active');
                    }
                });
            });

            // Suivi de la section active (scroll)
            const sections = document.querySelectorAll('.module-section');
            const navLi = document.querySelectorAll('.sidebar-nav a, .nav-menu a');

            function setActiveSection() {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 150;
                    const sectionHeight = section.clientHeight;
                    if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
                        current = section.getAttribute('id');
                    }
                });

                navLi.forEach(li => {
                    li.classList.remove('active', 'active-section');
                    if (li.getAttribute('href') === `#${current}`) {
                        li.classList.add('active', 'active-section');
                    }
                });
            }

            window.addEventListener('scroll', setActiveSection);
            // Initialiser l'√©tat actif au chargement
            setActiveSection();
        });
    </script>
</body>
</html>